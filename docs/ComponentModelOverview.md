ROSCom/docs/ComponentModelOverview.md
=================

This file contains the design overview of the ROS component model.  This includes the goals and features of the design, as well as an overview of the design itself.


Description:
------------
What is a component?


Goals:
------
* Modeling Language integration with basic component model and skeleton code generation
* Component implementation
  * structural/connection code should be generated, not written by the user
  * components should be loaded as libraries so they can be moved between processes?
* Basic component queues
  * the queue contains the callbacks (component operations)
  * only a single action is run by the component at a given time
  * all component operations (elements in the queue) run to completion
* Analysis & Verification service integration : network QoS, timing & schedulability
  * each component operation will have a deadline w.r.t. its execution time; this deadline will be monitored & if possible the operation will be halted at the expiry of the deadline
  * all network traffic generated by a component operation will be monitored, and design-time component network profiles will be enforced


Features:
---------



Design:
-------
* Component Implementation:
  * the component message queue will be implemented using a ROS CallbackQueue.  Every subscriber or service provider provides to ROS a callback that should be invoked when relevant data arrives (published message or service request).  These callbacks are managed in a global queue by default, but can optionally be split into different queues for the required granularity.  We will use one CallbackQueue for each component.  For each queue, a thread will run which waits on the queue and executes the relevant callbacks when data becomes available.

Questions:
----------
* How many sockets are managed by ROS / how many sockets are needed for multiple subscribers, etc.?
  * subscribers each node appears to have one (maybe 2) sockets per topic, not per subscriber.
* How many threads are created by ROS infrastructure : seems to be 5
* Do the timers go through the callbackqueues like messages and services : yes ( http://wiki.ros.org/roscpp/Overview/Timers )
* How can we implement priority in the callbackqueues?
  * can we do it without touching ROS sourcecode?